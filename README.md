# 22-1_CG_Tutorial - Torus , TorusKnot

## Torus

torus는 우리말로 원환면이라고 한다. 해석하자면 원으로 된 환(고리)모양이라는 뜻이다. three.js에서도 torus를 렌더링하기 위한 메서드를 지원한다. 인자로는 5개를 받는다.  
첫 번째로 torus의 반지름은 나타내는 radius, 두 번째로 튜브의 반지름을 나타내는 tube, 세 번째로 튜브의 옆구리를 이루는 세그먼트의 개수인 radialSegment, 네 번째로 튜브의 모양을 결정하는 세그먼트의 개수인 tubular Segment, 다섯 번째로 torus의 중심각의 크기를 나타내는 arc가 있다.  
기본적으로 시작과 끝이 연결된 도넛형태를 만들기 위해서는 arc를 2PI로 설장하면 된다. radialSegment의 값이 커질수록 튜브의 옆구리가 원통에 가깝게 렌더링 된다. 만약 값이 2라면 오직 앞면과 뒷면만 존재하기 때문에 두께가 매우 얇은 종이처럼 렌더링된다. tubularSegment는 튜브의 모양을 결정한다. 값이 3이면 삼각형 모양의 튜브, 4라면 사각형 튜브로 렌더링된다. 원형으로 된 튜브를 만들고 싶다면 값을 크게 설정해야한다. tube값은 튜브의 직경을 결정짓기 때문에 값을 크게 할수록 부풀어오른 튜브를 만들 수 있다.

## TorusKnot

Torus knot은 매듭 이론에서, 원환면 위에 간단하게 그려질 수 있는 매듭이다.  
three.js에서 만들 때는 torus와 거의 유사하지만 마지막으로 arc를 받는 것이 아닌 p와, q를 받는다. Torus knot을 만들기 위해서는 원환면을 z축에 대하여 p번 감고, 원에 대하여 q번 감는다.

## 아이템 선정

주제를 선정할 때 three.js에 있는 함수 중에서 3차원 geometry를 만드는 함수를 하고자 했습니다. 아무래도 light나 material 같은 추상적인 주제보다는, 만들어가면서 직접 눈으로 확인해볼 수 있는 주제가 흥미를 느끼기도 쉬우면서 깊이 파고 들어가기도 수월할 것이라 생각했습니다. 그래서 후보를 줄여서 box, sphere, cone, cylinder, torus 정도만 남겼습니다. 이 중에서 box나 sphere는 이미 수업시간에 충분히 다뤘다고 생각하여, 접해보지 않은 도형들을 만들어보고 싶었고, 이름이 가장 생소하면서 조절할 수 있는 parameter의 수도 적당히 있는 torus와 torusKnot을 하기로 결정하였습니다.

## 개발 과정

제가 어떤 주제를 선택했건 간에 프로젝트를 통해서 꼭 해보고자 했던 일은, torus를 이용하여 우리의 일상에서 쉽게 볼 수 있는(친숙한) 사물들을 모델링하고자 했습니다. 그래서 튜브 모양의 사물 중에서 모델링 할 만한 사물로, 도넛과 토성의 고리를 떠올렸던 것입니다. 도넛의 경우에는 기본적인 도넛(튜브)모양을 만들기는 매우 쉽지만, three.js에서 지원하는 단순한 색상 조합만으로는 먹음직스러운 도넛의 느낌이 잘 살지 않는다고 생각하여 구글링을 통해 도넛의 texture를 받아와서 입혔더니 느낌이 잘 표현된 것 같아서 만족스러웠습니다.
토성 역시 우리가 고리를 갖고 있는 사물을 떠올리면 가장 쉽게 떠올릴 수 있는 것이 무엇일까 고민하다가 만들게 되었습니다. 토성은 가운데에 구 모양의 토성 본체가 있기 때문에 이는 구를 랜더링해주는 sphereGeometry를 사용하였습니다. 그리고 바깥의 고리는 지름에 비해서 두께는 매우 얇기 때문에 이를 모델링할 때는 torus의 속성 중에서 radialSegment 값을 2로 줌으로써, 비슷하게 구현할 수 있었습니다. 또한 토성의 고리도 자세히 보면 색깔에 따라 3~4부분으로 나뉘기 때문에 torus도 3겹으로 만들어서 각기 다른 색상을 표현해주었습니다. 마지막으로 토성의 광택(material)을 어떻게 할 지 고민되었습니다. PhongMaterial으로 만드니 너무 반짝하는 느낌이 강해서 토성이라기 보다 노란색 금속성 물체 같은 인상이 들어서, 광택을 줄이기 위해 LambertMaterial으로 바꾸었더니 광택이 줄어서 훨씬 더 자연스러운 토성으로 보였습니다.
마지막으로 러버덕 튜브는 계획에는 없었으나 문득 생각이 들어서 만들게 되었습니다. 튜브 위에 오리 머리(sphere)를 쌓는 건 어렵지 않았으나 오리의 부리와 눈을 표현하는 일이 난관이었습니다. 오리의 부리는 torus의 radialSegment를 3으로 조절하면 어느정도 각지면서 동그란 모양이 나왔고, 이를 오리의 머리 안에 절반 정도만 나오도록 집어넣으니 나름 그럴싸한 부리가 만들어졌습니다. 오리의 눈은 도넛에 입혔던 texture처럼 제가 직접 노란색 배경 위에 눈을 그려넣은 이미지를 만들었습니다. 러버덕 튜브가 제가 만든 3개의 모델 중에서 가장 만족스러웠습니다.  
torus knot의 경우, 처음 주제를 선정할 당시에만 하더라도 단순히 torus 몇 개가 겹쳐있는 형상인 줄 알았는데, 나중에 자세히 조사해보면서 위상수학에서 매듭이론과 밀접한 연관이 있다는 사실을 알게 되었습니다. 해당 이론에 대해서 열심히 구글링하면서 위키도 찾아보고 유튜브도 찾아봤지만 저의 부족한 식견으로 p와 q값에 따라 만들어지는 형상을 자세히 설명드리지 못했다는 점이 아쉬웠습니다. 해보지는 않았지만 torus에도 텍스쳐 매핑을 하면 프레첼이나 소세지 같은 모양을 만들 수 있을 것 같습니다.

## 느낀점

이번 학기 컴퓨터 그래픽스 과목을 들으면서, '컴퓨터 그래픽스' 라는 학문의 목표, 의의를 들은 적이 있었는데 그게 아직까지도 기억에 남습니다. 컴퓨터 그래픽스의 목표는 사람이 보기에 '그럴싸하게 보이는데?' 라는 생각이 들게끔 만드는 것이라고 하셨습니다. 제가 만들었던 도넛과 토성, 러버덕도 최대한 그럴싸하게 만드려고 노력해보았습니다.
대부분의 사람들에게는 조잡한 수준으로밖에 안 보였겠지만, 만드는 사람의 입장에서는 생각보다 고려해야 할 문제가 얼마나 많은지 깨닫게 되었습니다. 그래도 여러번의 시행착오를 겪으며 제가 만드려고 했던 사물이 조금씩 비슷해져가는 과정을 지켜보니 정말 매력적인 분야라고 생각했습니다. 이번 학기 그래픽스 과목을 들으면서, 그리고 이번 프로젝트를 통해서 왜 비싼 그래픽 카드를 사야하는지, 왜 게임에서 그래픽 최적화 작업이 중요한지, 그리고 영화에서 CG팀이 얼마나 고생하는지 알게 되었습니다.
